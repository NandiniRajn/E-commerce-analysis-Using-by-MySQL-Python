# E-commerce-analysis-Using-by-MySQL-Python

**MySQL + Python Connector**

This project implements a database on MySQL using MySQL Connector and Python. The database enables efficient data creation, reading, updating, and deletion.

[Download the E-commerce dataset.](https://github.com/NandiniRajn/E-commerce-analysis-Using-by-MySQL-Python/tree/main/Dataset)

## Key Libraries & Tool
-	**MySQL** Connector for database interaction
-	**Pandas** for data handling
-	**Matplotlib & Seaborn** for visualization
-	**Os** for handling file paths to locate CSV files in a specific folder
-	**Jupyter Notebook** as the interactive environment

[Download the step-by-step process of MySQL & Python connector](https://github.com/NandiniRajn/E-commerce-analysis-Using-by-MySQL-Python/blob/main/E-commerce%20complete%20process.docx)

## Step 1: *Set Up a Connection and Create a Database*

1.	Create Database in MySQL:
2.	Import Libraries:
3.	Define CSV Files and Table Names:
4.	Connect to MySQL Server:
5.	Define Folder Path for CSV Files:
6.	Define Helper Function for SQL Data Type Mapping:
7.	Iterate Through Each CSV File:

## Step 2: *Data Cleaning*
1.	Load the CSV data using Pandas:
2.	Handle Missing Values:
3.	Check NaN values:
4. Standardize Column Names:

## Step 3: *Creating Tables in MySQL*
1. Define Table Structure:
2. Insert Data into MySQL:
3. Commit Transaction:

## Step 4: *Clean Up*

# Questions:-

**Basic Question**

1. List all unique cities where customers are located.
2. Count the number of orders placed in 2017.
3. Find the total sales per category.
4. Calculate the percentage of orders that were paid in installments.
5. Count the number of customers from each state. 

**Intermediate Questions**
1. Calculate the number of orders per month in 2018.
2. Find the average number of products per order, grouped by customer city.
3. Calculate the percentage of total revenue contributed by each product category.
4. Identify the correlation between product price and the number of times a product has been purchased.
5. Calculate the total revenue generated by each seller, and rank them by revenue.

**Advanced Questions**
1. Calculate the moving average of order values for each customer over their order history.
2. Calculate the cumulative sales per month for each year.
3. Calculate the year-over-year growth rate of total sales.
4. Calculate the retention rate of customers, defined as the percentage of customers who make another purchase within 6 months of their first purchase.
5. Identify the top 3 customers who spent the most money in each year.


# Summary of Questions:
*Here's a summary of the all Questions: -*

**1. Unique Customer Cities:**
-	Lists all unique cities where customers are located.
-	The highest customer is located in France.
-	The output shows a sample of customer locations like "Franca," "Sao Bernardo do Campo," and "Sao Paulo."

**2. Order Count for 2017:**
-	This part of the analysis calculates the total number of orders placed in 2017.
-	In 2017, a total of 45,101 orders were placed.
   
**3. Total Sales per Category:*
-	The types of categories 73 were based on the total sales for each category.
-	Sales in the Perfumery category are 506738.66, in the Furniture Decoration category are 1430176.39, Telephony sales are 486882.05, and Fashion Bags and Accessories sales are 218158.28.
-	Another category is like: 

      | **Category**                            | **Sales**        |
      |-----------------------------------------|------------------|
      |  **PERFUMERY**                       | 506,738.66       |
      |  **FURNITURE DECORATION**            | 1,430,176.39     |
      |  **TELEPHONY**                       | 486,882.05       |
      |  **FASHION BAGS AND ACCESSORIES**    | 218,158.28       |
      |  **BED TABLE BATH**                  | 1,712,553.67     |
      |  ... ... ..                          | ... ... ..       |
      |  **CDS MUSIC DVDS**                  | 1,199.43         |
      |  **LA CUISINE**                      | 2,913.53         |
      |  **FASHION CHILDREN'S CLOTHING**     | 785.67           |
      |  **PC GAMER**                        | 2,174.43         |
      |  **INSURANCE AND SERVICES**          | 324.51           |


**4.	orders paid in instalments:**
-	The percentage of orders that were paid in instalments is 99.9981.

**5. Customer Count by State:**
-	Counts the number of customers from each state.
-	The number of customers from each state is visualized in a bar chart, with the highest customer concentrations in the states SP, RJ, MG, and RS.
-	The top 5 customers by state:

      | **State** | **Customer Count** |
      |-----------|-----------|
      |    **SP** | 41,746    |
      |    **RJ** | 12,852    |
      |    **MG** | 11,635    |
      |    **RS** | 5,466     |
      |    **PR** | 5,045     |


**6.	Monthly Order Count in 2018:**
-	The monthly order count for 2018 is displayed in a bar chart.
-	The highest order counts were observed in the earlier months of January, March, April, May and February etc.


      | **Month**     | **Total Orders** |
      |---------------|------------------|
      |  **January**   | 7,269           |
      |  **March**     | 7,211           |
      |  **April**     | 6,939           |
      |  **May**       | 6,873           |
      |  **February**  | 6,728           |
      |  **August**    | 6,512           |
      |  **July**      | 6,292           |
      |  **June**      | 6,167           |
      |  **September** | 16              |
      |  **October**   | 4               |

**7.	Average products per order by customer city:**

-	The maximum number of products ordered and organized by customer city.
-	The average scores for the cities are as follows: Padre Carvalho is 7, Celso Ramos is 6.50, Candido Godoi is 6, and Datas is 6.


**8.	The total revenue contributed by product category:**

-	The percentage of total revenue that each product category contributes.
-	The highest distribution percentage is in the categories of bed, table, bath, health, beauty, and computer accessories.
-	Top 5 category are: -

    | **Category**               | **Percentage Distribution** |
    |----------------------------|-----------------------------|
    |  **Bed Table Bath**      | 10.70%                      |
    |  **Health Beauty**        | 10.35%                      |
    |  **Computer Accessories** | 9.90%                       |
    |  **Furniture Decoration** | 8.93%                       |
    |  **Watches Present**      | 8.93%                       |


**9.	The relationship between product price and the frequency of product purchases:**

-	The correlation between product price and the frequency of purchases is 
 -0.1063151.
-	The most frequently purchased product, bought 9,670 times, is Health Beauty, which is priced at $130.16.
-	In the sports leisure category, the number of purchases is 8,641, and the price is $114.34. In the Cool Stuff category, the number of purchases is 3,796, and the price is $167.36.


**10.	The cumulative sales per month for each year:**

-	The cumulative sales period covers December 2016 to October 2018.
-	In October 2018, the payment is $589.67, and the cumulative sales amount to 16008872.12.
-	The payment for December 2017 is $878401.48, and the total cumulative sales amount to 7309109.07.
-	The payment for December 2016 is $19.62, and the cumulative sales amount is 59362.34.


**11.	The year-over-year growth rate of total sales:**

-	In the year 2018, the growth rate percentage was 20.000924.
-	In the year 2017, the growth rate percentage was 12112.703761.
-	In 2016, the growth rate is recorded as not a number (NaN).


**12.	Customer retention rate is the percentage of repeat purchases within six months:**

-	None of the retention rate of customers as the percentage of customers who make another purchase within 6 months of their first purchase.



